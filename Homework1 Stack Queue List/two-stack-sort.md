# 双栈排序

## 题目描述

现有输出序列，输入序列各一，空s1,s2。

称入s1为a，出s1为b，入s2为c，出s2为d。

求判断该输入序列经过双栈排序后能否实现在输出序列中以升序排列。

若可，输出字典序最小的操作方式；否，输出0。

## 想法

先考虑一下贪心算法，尝试直接求最近的情况的最优解。

### 贪心算法

把降序的元素同时放进一个栈，直到出现不是降序的元素，放入第二个栈。

按照题目要求，如果在某个元素两个栈都可以放下的情况下，优先放入s1。

按照如上所示的算法，会出现一种情况：如果在某个元素两个栈都可以放下的情况下，放入s2才是正确解。比如 "5 7 2 4 1 6 3"中的2，放入s1会导致无解。


贪心算法无果，我们可能需要一些对这个序列的整体特征有所了解才能继续。不妨先考虑只有s1的情况。

### 只有s1

先穷举一下只有3个数的情况
```
序号  0   1   2   解法
情况1 0   1   2   ababab
情况2 0   2   1   abaabb
情况3 1   0   2   aabbab
情况4 1   2   0   0
情况5 2   1   0   aaabbb
情况6 2   0   1   aababb
```
从中不难看出，当情况为“1-2-0”时，一个栈已经无法处理了。

这是参考的[证明过程](http://blog.csdn.net/u014207839/article/details/40460339)
